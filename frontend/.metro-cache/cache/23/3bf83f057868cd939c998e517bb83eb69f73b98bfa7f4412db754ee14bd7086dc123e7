{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":71,"index":71}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":72},"end":{"line":2,"column":26,"index":98}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":99},"end":{"line":3,"column":49,"index":148}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/CartContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.CartProvider = CartProvider;\n  exports.useCart = useCart;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[2], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL + '/api';\n  const CartContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function CartProvider({\n    children\n  }) {\n    const [cartItems, setCartItems] = (0, _react.useState)([]);\n    const [loading, setLoading] = (0, _react.useState)(false);\n    (0, _react.useEffect)(() => {\n      refreshCart();\n    }, []);\n    const refreshCart = async () => {\n      try {\n        setLoading(true);\n        const token = await SecureStore.getItemAsync('session_token');\n        if (!token) return;\n        const response = await axios.default.get(`${API_URL}/cart`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setCartItems(response.data.items || []);\n      } catch (error) {\n        console.error('Error fetching cart:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const addToCart = async item => {\n      try {\n        const token = await SecureStore.getItemAsync('session_token');\n        if (!token) throw new Error('Not authenticated');\n        await axios.default.post(`${API_URL}/cart`, item, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        await refreshCart();\n      } catch (error) {\n        console.error('Error adding to cart:', error);\n        throw error;\n      }\n    };\n    const removeFromCart = async index => {\n      try {\n        const token = await SecureStore.getItemAsync('session_token');\n        if (!token) throw new Error('Not authenticated');\n        await axios.default.delete(`${API_URL}/cart/${index}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        await refreshCart();\n      } catch (error) {\n        console.error('Error removing from cart:', error);\n        throw error;\n      }\n    };\n    const clearCart = async () => {\n      try {\n        const token = await SecureStore.getItemAsync('session_token');\n        if (!token) throw new Error('Not authenticated');\n        await axios.default.delete(`${API_URL}/cart`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setCartItems([]);\n      } catch (error) {\n        console.error('Error clearing cart:', error);\n        throw error;\n      }\n    };\n    const totalPrice = cartItems.reduce((sum, item) => sum + item.price * item.quantity, 0);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(CartContext.Provider, {\n      value: {\n        cartItems,\n        loading,\n        addToCart,\n        removeFromCart,\n        clearCart,\n        refreshCart,\n        totalPrice\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }, this);\n  }\n  function useCart() {\n    const context = (0, _react.useContext)(CartContext);\n    if (context === undefined) {\n      throw new Error('useCart must be used within a CartProvider');\n    }\n    return context;\n  }\n});","lineCount":133,"map":[[28,2,27,0,"exports"],[28,9,27,0],[28,10,27,0,"CartProvider"],[28,22,27,0],[28,25,27,0,"CartProvider"],[28,37,27,0],[29,2,120,0,"exports"],[29,9,120,0],[29,10,120,0,"useCart"],[29,17,120,0],[29,20,120,0,"useCart"],[29,27,120,0],[30,2,1,0],[30,6,1,0,"_react"],[30,12,1,0],[30,15,1,0,"require"],[30,22,1,0],[30,23,1,0,"_dependencyMap"],[30,37,1,0],[31,2,2,0],[31,6,2,0,"_axios"],[31,12,2,0],[31,15,2,0,"require"],[31,22,2,0],[31,23,2,0,"_dependencyMap"],[31,37,2,0],[32,2,2,0],[32,6,2,0,"axios"],[32,11,2,0],[32,14,2,0,"_interopDefault"],[32,29,2,0],[32,30,2,0,"_axios"],[32,36,2,0],[33,2,3,0],[33,6,3,0,"_expoSecureStore"],[33,22,3,0],[33,25,3,0,"require"],[33,32,3,0],[33,33,3,0,"_dependencyMap"],[33,47,3,0],[34,2,3,0],[34,6,3,0,"SecureStore"],[34,17,3,0],[34,20,3,0,"_interopNamespace"],[34,37,3,0],[34,38,3,0,"_expoSecureStore"],[34,54,3,0],[35,2,3,49],[35,6,3,49,"_reactJsxDevRuntime"],[35,25,3,49],[35,28,3,49,"require"],[35,35,3,49],[35,36,3,49,"_dependencyMap"],[35,50,3,49],[36,2,5,0],[36,8,5,6,"API_URL"],[36,15,5,13],[36,18,5,16,"process"],[36,25,5,23],[36,26,5,24,"env"],[36,29,5,27],[36,30,5,28,"EXPO_PUBLIC_BACKEND_URL"],[36,53,5,51],[36,56,5,54],[36,62,5,60],[37,2,25,0],[37,8,25,6,"CartContext"],[37,19,25,17],[37,35,25,20],[37,39,25,20,"createContext"],[37,45,25,33],[37,46,25,33,"createContext"],[37,59,25,33],[37,61,25,63,"undefined"],[37,70,25,72],[37,71,25,73],[38,2,27,7],[38,11,27,16,"CartProvider"],[38,23,27,28,"CartProvider"],[38,24,27,29],[39,4,27,31,"children"],[40,2,27,71],[40,3,27,72],[40,5,27,74],[41,4,28,2],[41,10,28,8],[41,11,28,9,"cartItems"],[41,20,28,18],[41,22,28,20,"setCartItems"],[41,34,28,32],[41,35,28,33],[41,38,28,36],[41,42,28,36,"useState"],[41,48,28,44],[41,49,28,44,"useState"],[41,57,28,44],[41,59,28,57],[41,61,28,59],[41,62,28,60],[42,4,29,2],[42,10,29,8],[42,11,29,9,"loading"],[42,18,29,16],[42,20,29,18,"setLoading"],[42,30,29,28],[42,31,29,29],[42,34,29,32],[42,38,29,32,"useState"],[42,44,29,40],[42,45,29,40,"useState"],[42,53,29,40],[42,55,29,41],[42,60,29,46],[42,61,29,47],[43,4,31,2],[43,8,31,2,"useEffect"],[43,14,31,11],[43,15,31,11,"useEffect"],[43,24,31,11],[43,26,31,12],[43,32,31,18],[44,6,32,4,"refreshCart"],[44,17,32,15],[44,18,32,16],[44,19,32,17],[45,4,33,2],[45,5,33,3],[45,7,33,5],[45,9,33,7],[45,10,33,8],[46,4,35,2],[46,10,35,8,"refreshCart"],[46,21,35,19],[46,24,35,22],[46,30,35,22,"refreshCart"],[46,31,35,22],[46,36,35,34],[47,6,36,4],[47,10,36,8],[48,8,37,6,"setLoading"],[48,18,37,16],[48,19,37,17],[48,23,37,21],[48,24,37,22],[49,8,38,6],[49,14,38,12,"token"],[49,19,38,17],[49,22,38,20],[49,28,38,26,"SecureStore"],[49,39,38,37],[49,40,38,38,"getItemAsync"],[49,52,38,50],[49,53,38,51],[49,68,38,66],[49,69,38,67],[50,8,39,6],[50,12,39,10],[50,13,39,11,"token"],[50,18,39,16],[50,20,39,18],[51,8,41,6],[51,14,41,12,"response"],[51,22,41,20],[51,25,41,23],[51,31,41,29,"axios"],[51,36,41,34],[51,37,41,34,"default"],[51,44,41,34],[51,45,41,35,"get"],[51,48,41,38],[51,49,41,39],[51,52,41,42,"API_URL"],[51,59,41,49],[51,66,41,56],[51,68,41,58],[52,10,42,8,"headers"],[52,17,42,15],[52,19,42,17],[53,12,42,19,"Authorization"],[53,25,42,32],[53,27,42,34],[53,37,42,44,"token"],[53,42,42,49],[54,10,42,52],[55,8,43,6],[55,9,43,7],[55,10,43,8],[56,8,45,6,"setCartItems"],[56,20,45,18],[56,21,45,19,"response"],[56,29,45,27],[56,30,45,28,"data"],[56,34,45,32],[56,35,45,33,"items"],[56,40,45,38],[56,44,45,42],[56,46,45,44],[56,47,45,45],[57,6,46,4],[57,7,46,5],[57,8,46,6],[57,15,46,13,"error"],[57,20,46,18],[57,22,46,20],[58,8,47,6,"console"],[58,15,47,13],[58,16,47,14,"error"],[58,21,47,19],[58,22,47,20],[58,44,47,42],[58,46,47,44,"error"],[58,51,47,49],[58,52,47,50],[59,6,48,4],[59,7,48,5],[59,16,48,14],[60,8,49,6,"setLoading"],[60,18,49,16],[60,19,49,17],[60,24,49,22],[60,25,49,23],[61,6,50,4],[62,4,51,2],[62,5,51,3],[63,4,53,2],[63,10,53,8,"addToCart"],[63,19,53,17],[63,22,53,20],[63,28,53,27,"item"],[63,32,53,41],[63,36,53,46],[64,6,54,4],[64,10,54,8],[65,8,55,6],[65,14,55,12,"token"],[65,19,55,17],[65,22,55,20],[65,28,55,26,"SecureStore"],[65,39,55,37],[65,40,55,38,"getItemAsync"],[65,52,55,50],[65,53,55,51],[65,68,55,66],[65,69,55,67],[66,8,56,6],[66,12,56,10],[66,13,56,11,"token"],[66,18,56,16],[66,20,56,18],[66,26,56,24],[66,30,56,28,"Error"],[66,35,56,33],[66,36,56,34],[66,55,56,53],[66,56,56,54],[67,8,58,6],[67,14,58,12,"axios"],[67,19,58,17],[67,20,58,17,"default"],[67,27,58,17],[67,28,58,18,"post"],[67,32,58,22],[67,33,58,23],[67,36,58,26,"API_URL"],[67,43,58,33],[67,50,58,40],[67,52,58,42,"item"],[67,56,58,46],[67,58,58,48],[68,10,59,8,"headers"],[68,17,59,15],[68,19,59,17],[69,12,59,19,"Authorization"],[69,25,59,32],[69,27,59,34],[69,37,59,44,"token"],[69,42,59,49],[70,10,59,52],[71,8,60,6],[71,9,60,7],[71,10,60,8],[72,8,62,6],[72,14,62,12,"refreshCart"],[72,25,62,23],[72,26,62,24],[72,27,62,25],[73,6,63,4],[73,7,63,5],[73,8,63,6],[73,15,63,13,"error"],[73,20,63,18],[73,22,63,20],[74,8,64,6,"console"],[74,15,64,13],[74,16,64,14,"error"],[74,21,64,19],[74,22,64,20],[74,45,64,43],[74,47,64,45,"error"],[74,52,64,50],[74,53,64,51],[75,8,65,6],[75,14,65,12,"error"],[75,19,65,17],[76,6,66,4],[77,4,67,2],[77,5,67,3],[78,4,69,2],[78,10,69,8,"removeFromCart"],[78,24,69,22],[78,27,69,25],[78,33,69,32,"index"],[78,38,69,45],[78,42,69,50],[79,6,70,4],[79,10,70,8],[80,8,71,6],[80,14,71,12,"token"],[80,19,71,17],[80,22,71,20],[80,28,71,26,"SecureStore"],[80,39,71,37],[80,40,71,38,"getItemAsync"],[80,52,71,50],[80,53,71,51],[80,68,71,66],[80,69,71,67],[81,8,72,6],[81,12,72,10],[81,13,72,11,"token"],[81,18,72,16],[81,20,72,18],[81,26,72,24],[81,30,72,28,"Error"],[81,35,72,33],[81,36,72,34],[81,55,72,53],[81,56,72,54],[82,8,74,6],[82,14,74,12,"axios"],[82,19,74,17],[82,20,74,17,"default"],[82,27,74,17],[82,28,74,18,"delete"],[82,34,74,24],[82,35,74,25],[82,38,74,28,"API_URL"],[82,45,74,35],[82,54,74,44,"index"],[82,59,74,49],[82,61,74,51],[82,63,74,53],[83,10,75,8,"headers"],[83,17,75,15],[83,19,75,17],[84,12,75,19,"Authorization"],[84,25,75,32],[84,27,75,34],[84,37,75,44,"token"],[84,42,75,49],[85,10,75,52],[86,8,76,6],[86,9,76,7],[86,10,76,8],[87,8,78,6],[87,14,78,12,"refreshCart"],[87,25,78,23],[87,26,78,24],[87,27,78,25],[88,6,79,4],[88,7,79,5],[88,8,79,6],[88,15,79,13,"error"],[88,20,79,18],[88,22,79,20],[89,8,80,6,"console"],[89,15,80,13],[89,16,80,14,"error"],[89,21,80,19],[89,22,80,20],[89,49,80,47],[89,51,80,49,"error"],[89,56,80,54],[89,57,80,55],[90,8,81,6],[90,14,81,12,"error"],[90,19,81,17],[91,6,82,4],[92,4,83,2],[92,5,83,3],[93,4,85,2],[93,10,85,8,"clearCart"],[93,19,85,17],[93,22,85,20],[93,28,85,20,"clearCart"],[93,29,85,20],[93,34,85,32],[94,6,86,4],[94,10,86,8],[95,8,87,6],[95,14,87,12,"token"],[95,19,87,17],[95,22,87,20],[95,28,87,26,"SecureStore"],[95,39,87,37],[95,40,87,38,"getItemAsync"],[95,52,87,50],[95,53,87,51],[95,68,87,66],[95,69,87,67],[96,8,88,6],[96,12,88,10],[96,13,88,11,"token"],[96,18,88,16],[96,20,88,18],[96,26,88,24],[96,30,88,28,"Error"],[96,35,88,33],[96,36,88,34],[96,55,88,53],[96,56,88,54],[97,8,90,6],[97,14,90,12,"axios"],[97,19,90,17],[97,20,90,17,"default"],[97,27,90,17],[97,28,90,18,"delete"],[97,34,90,24],[97,35,90,25],[97,38,90,28,"API_URL"],[97,45,90,35],[97,52,90,42],[97,54,90,44],[98,10,91,8,"headers"],[98,17,91,15],[98,19,91,17],[99,12,91,19,"Authorization"],[99,25,91,32],[99,27,91,34],[99,37,91,44,"token"],[99,42,91,49],[100,10,91,52],[101,8,92,6],[101,9,92,7],[101,10,92,8],[102,8,94,6,"setCartItems"],[102,20,94,18],[102,21,94,19],[102,23,94,21],[102,24,94,22],[103,6,95,4],[103,7,95,5],[103,8,95,6],[103,15,95,13,"error"],[103,20,95,18],[103,22,95,20],[104,8,96,6,"console"],[104,15,96,13],[104,16,96,14,"error"],[104,21,96,19],[104,22,96,20],[104,44,96,42],[104,46,96,44,"error"],[104,51,96,49],[104,52,96,50],[105,8,97,6],[105,14,97,12,"error"],[105,19,97,17],[106,6,98,4],[107,4,99,2],[107,5,99,3],[108,4,101,2],[108,10,101,8,"totalPrice"],[108,20,101,18],[108,23,101,21,"cartItems"],[108,32,101,30],[108,33,101,31,"reduce"],[108,39,101,37],[108,40,101,38],[108,41,101,39,"sum"],[108,44,101,42],[108,46,101,44,"item"],[108,50,101,48],[108,55,101,53,"sum"],[108,58,101,56],[108,61,101,59,"item"],[108,65,101,63],[108,66,101,64,"price"],[108,71,101,69],[108,74,101,72,"item"],[108,78,101,76],[108,79,101,77,"quantity"],[108,87,101,85],[108,89,101,87],[108,90,101,88],[108,91,101,89],[109,4,103,2],[109,24,104,4],[109,28,104,4,"_reactJsxDevRuntime"],[109,47,104,4],[109,48,104,4,"jsxDEV"],[109,54,104,4],[109,56,104,5,"CartContext"],[109,67,104,16],[109,68,104,17,"Provider"],[109,76,104,25],[110,6,105,6,"value"],[110,11,105,11],[110,13,105,13],[111,8,106,8,"cartItems"],[111,17,106,17],[112,8,107,8,"loading"],[112,15,107,15],[113,8,108,8,"addToCart"],[113,17,108,17],[114,8,109,8,"removeFromCart"],[114,22,109,22],[115,8,110,8,"clearCart"],[115,17,110,17],[116,8,111,8,"refreshCart"],[116,19,111,19],[117,8,112,8,"totalPrice"],[118,6,113,6],[118,7,113,8],[119,6,113,8,"children"],[119,14,113,8],[119,16,115,7,"children"],[120,4,115,15],[121,6,115,15,"fileName"],[121,14,115,15],[121,16,115,15,"_jsxFileName"],[121,28,115,15],[122,6,115,15,"lineNumber"],[122,16,115,15],[123,6,115,15,"columnNumber"],[123,18,115,15],[124,4,115,15],[124,11,116,26],[124,12,116,27],[125,2,118,0],[126,2,120,7],[126,11,120,16,"useCart"],[126,18,120,23,"useCart"],[126,19,120,23],[126,21,120,26],[127,4,121,2],[127,10,121,8,"context"],[127,17,121,15],[127,20,121,18],[127,24,121,18,"useContext"],[127,30,121,28],[127,31,121,28,"useContext"],[127,41,121,28],[127,43,121,29,"CartContext"],[127,54,121,40],[127,55,121,41],[128,4,122,2],[128,8,122,6,"context"],[128,15,122,13],[128,20,122,18,"undefined"],[128,29,122,27],[128,31,122,29],[129,6,123,4],[129,12,123,10],[129,16,123,14,"Error"],[129,21,123,19],[129,22,123,20],[129,66,123,64],[129,67,123,65],[130,4,124,2],[131,4,125,2],[131,11,125,9,"context"],[131,18,125,16],[132,2,126,0],[133,0,126,1],[133,3]],"functionMap":{"names":["<global>","CartProvider","useEffect$argument_0","refreshCart","addToCart","removeFromCart","clearCart","cartItems.reduce$argument_0","useCart"],"mappings":"AAA;OC0B;YCI;GDE;sBEE;GFgB;oBGE;GHc;yBIE;GJc;oBKE;GLc;sCME,+CN;CDiB;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}