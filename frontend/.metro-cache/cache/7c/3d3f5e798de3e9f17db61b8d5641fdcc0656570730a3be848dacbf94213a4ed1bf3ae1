{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":83,"index":83}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":84},"end":{"line":2,"column":34,"index":118}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":119},"end":{"line":3,"column":40,"index":159}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../src/context/AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":160},"end":{"line":4,"column":53,"index":213}}],"key":"YFOiIQT6E6I699spMpMTUXmic+k=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/callback.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return CallbackScreen;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _reactNative = require(_dependencyMap[1], \"react-native\");\n  var _react = require(_dependencyMap[2], \"react\");\n  var _expoRouter = require(_dependencyMap[3], \"expo-router\");\n  var _srcContextAuthContext = require(_dependencyMap[4], \"../src/context/AuthContext\");\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  function CallbackScreen() {\n    _s();\n    var router = (0, _expoRouter.useRouter)();\n    var _useAuth = (0, _srcContextAuthContext.useAuth)(),\n      processSessionId = _useAuth.processSessionId;\n    (0, _react.useEffect)(() => {\n      var handleCallback = /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator.default)(function* () {\n          console.log('[Callback] Starting callback handling');\n          if (_reactNative.Platform.OS === 'web' && typeof window !== 'undefined') {\n            console.log('[Callback] Full URL:', window.location.href);\n            console.log('[Callback] Hash:', window.location.hash);\n            console.log('[Callback] Search:', window.location.search);\n\n            // Check URL hash for session_id\n            var hash = window.location.hash;\n            var hashMatch = hash.match(/session_id=([^&]+)/);\n\n            // Also check query params\n            var search = window.location.search;\n            var searchMatch = search.match(/session_id=([^&]+)/);\n            var sessionId = hashMatch?.[1] || searchMatch?.[1];\n            if (sessionId) {\n              console.log('[Callback] Found session_id:', sessionId);\n              try {\n                yield processSessionId(sessionId);\n                console.log('[Callback] Session processed, redirecting to tabs');\n                router.replace('/(tabs)');\n              } catch (error) {\n                console.error('[Callback] Error processing session:', error);\n                router.replace('/auth');\n              }\n            } else {\n              console.log('[Callback] No session_id found, redirecting to auth');\n              router.replace('/auth');\n            }\n          } else {\n            console.log('[Callback] Not on web platform');\n            router.replace('/auth');\n          }\n        });\n        return function handleCallback() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      handleCallback();\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.View, {\n      style: styles.container,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.ActivityIndicator, {\n        size: \"large\",\n        color: \"#4CAF50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.Text, {\n        style: styles.text,\n        children: \"Processing authentication...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this);\n  }\n  _s(CallbackScreen, \"qe0oXZnwqVgLWDbyc84yTlpRRvc=\", false, function () {\n    return [_expoRouter.useRouter, _srcContextAuthContext.useAuth];\n  });\n  _c = CallbackScreen;\n  var styles = _reactNative.StyleSheet.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#fff'\n    },\n    text: {\n      marginTop: 16,\n      fontSize: 16,\n      color: '#666'\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"CallbackScreen\");\n});","lineCount":116,"map":[[14,2,6,15,"Object"],[14,8,6,15],[14,9,6,15,"defineProperty"],[14,23,6,15],[14,24,6,15,"exports"],[14,31,6,15],[15,4,6,15,"enumerable"],[15,14,6,15],[16,4,6,15,"get"],[16,7,6,15],[16,18,6,15,"get"],[16,19,6,15],[17,6,6,15],[17,13,6,15,"CallbackScreen"],[17,27,6,15],[18,4,6,15],[19,2,6,15],[20,2,58,1],[20,6,58,1,"_babelRuntimeHelpersAsyncToGenerator"],[20,42,58,1],[20,45,58,1,"require"],[20,52,58,1],[20,53,58,1,"_dependencyMap"],[20,67,58,1],[21,2,58,1],[21,6,58,1,"_asyncToGenerator"],[21,23,58,1],[21,26,58,1,"_interopDefault"],[21,41,58,1],[21,42,58,1,"_babelRuntimeHelpersAsyncToGenerator"],[21,78,58,1],[22,2,1,0],[22,6,1,0,"_reactNative"],[22,18,1,0],[22,21,1,0,"require"],[22,28,1,0],[22,29,1,0,"_dependencyMap"],[22,43,1,0],[23,2,2,0],[23,6,2,0,"_react"],[23,12,2,0],[23,15,2,0,"require"],[23,22,2,0],[23,23,2,0,"_dependencyMap"],[23,37,2,0],[24,2,3,0],[24,6,3,0,"_expoRouter"],[24,17,3,0],[24,20,3,0,"require"],[24,27,3,0],[24,28,3,0,"_dependencyMap"],[24,42,3,0],[25,2,4,0],[25,6,4,0,"_srcContextAuthContext"],[25,28,4,0],[25,31,4,0,"require"],[25,38,4,0],[25,39,4,0,"_dependencyMap"],[25,53,4,0],[26,2,4,53],[26,6,4,53,"_reactJsxDevRuntime"],[26,25,4,53],[26,28,4,53,"require"],[26,35,4,53],[26,36,4,53,"_dependencyMap"],[26,50,4,53],[27,2,6,15],[27,11,6,24,"CallbackScreen"],[27,25,6,38,"CallbackScreen"],[27,26,6,38],[27,28,6,41],[28,4,6,41,"_s"],[28,6,6,41],[29,4,7,2],[29,8,7,8,"router"],[29,14,7,14],[29,17,7,17],[29,21,7,17,"useRouter"],[29,32,7,26],[29,33,7,26,"useRouter"],[29,42,7,26],[29,44,7,27],[29,45,7,28],[30,4,8,2],[30,8,8,2,"_useAuth"],[30,16,8,2],[30,19,8,31],[30,23,8,31,"useAuth"],[30,45,8,38],[30,46,8,38,"useAuth"],[30,53,8,38],[30,55,8,39],[30,56,8,40],[31,6,8,10,"processSessionId"],[31,22,8,26],[31,25,8,26,"_useAuth"],[31,33,8,26],[31,34,8,10,"processSessionId"],[31,50,8,26],[32,4,10,2],[32,8,10,2,"useEffect"],[32,14,10,11],[32,15,10,11,"useEffect"],[32,24,10,11],[32,26,10,12],[32,32,10,18],[33,6,11,4],[33,10,11,10,"handleCallback"],[33,24,11,24],[34,8,11,24],[34,12,11,24,"_ref"],[34,16,11,24],[34,23,11,24,"_asyncToGenerator"],[34,40,11,24],[34,41,11,24,"default"],[34,48,11,24],[34,50,11,27],[34,63,11,39],[35,10,12,6,"console"],[35,17,12,13],[35,18,12,14,"log"],[35,21,12,17],[35,22,12,18],[35,61,12,57],[35,62,12,58],[36,10,14,6],[36,14,14,10,"Platform"],[36,26,14,18],[36,27,14,18,"Platform"],[36,35,14,18],[36,36,14,19,"OS"],[36,38,14,21],[36,43,14,26],[36,48,14,31],[36,52,14,35],[36,59,14,42,"window"],[36,65,14,48],[36,70,14,53],[36,81,14,64],[36,83,14,66],[37,12,15,8,"console"],[37,19,15,15],[37,20,15,16,"log"],[37,23,15,19],[37,24,15,20],[37,46,15,42],[37,48,15,44,"window"],[37,54,15,50],[37,55,15,51,"location"],[37,63,15,59],[37,64,15,60,"href"],[37,68,15,64],[37,69,15,65],[38,12,16,8,"console"],[38,19,16,15],[38,20,16,16,"log"],[38,23,16,19],[38,24,16,20],[38,42,16,38],[38,44,16,40,"window"],[38,50,16,46],[38,51,16,47,"location"],[38,59,16,55],[38,60,16,56,"hash"],[38,64,16,60],[38,65,16,61],[39,12,17,8,"console"],[39,19,17,15],[39,20,17,16,"log"],[39,23,17,19],[39,24,17,20],[39,44,17,40],[39,46,17,42,"window"],[39,52,17,48],[39,53,17,49,"location"],[39,61,17,57],[39,62,17,58,"search"],[39,68,17,64],[39,69,17,65],[41,12,19,8],[42,12,20,8],[42,16,20,14,"hash"],[42,20,20,18],[42,23,20,21,"window"],[42,29,20,27],[42,30,20,28,"location"],[42,38,20,36],[42,39,20,37,"hash"],[42,43,20,41],[43,12,21,8],[43,16,21,14,"hashMatch"],[43,25,21,23],[43,28,21,26,"hash"],[43,32,21,30],[43,33,21,31,"match"],[43,38,21,36],[43,39,21,37],[43,59,21,57],[43,60,21,58],[45,12,23,8],[46,12,24,8],[46,16,24,14,"search"],[46,22,24,20],[46,25,24,23,"window"],[46,31,24,29],[46,32,24,30,"location"],[46,40,24,38],[46,41,24,39,"search"],[46,47,24,45],[47,12,25,8],[47,16,25,14,"searchMatch"],[47,27,25,25],[47,30,25,28,"search"],[47,36,25,34],[47,37,25,35,"match"],[47,42,25,40],[47,43,25,41],[47,63,25,61],[47,64,25,62],[48,12,27,8],[48,16,27,14,"sessionId"],[48,25,27,23],[48,28,27,26,"hashMatch"],[48,37,27,35],[48,40,27,38],[48,41,27,39],[48,42,27,40],[48,46,27,44,"searchMatch"],[48,57,27,55],[48,60,27,58],[48,61,27,59],[48,62,27,60],[49,12,29,8],[49,16,29,12,"sessionId"],[49,25,29,21],[49,27,29,23],[50,14,30,10,"console"],[50,21,30,17],[50,22,30,18,"log"],[50,25,30,21],[50,26,30,22],[50,56,30,52],[50,58,30,54,"sessionId"],[50,67,30,63],[50,68,30,64],[51,14,31,10],[51,18,31,14],[52,16,32,12],[52,22,32,18,"processSessionId"],[52,38,32,34],[52,39,32,35,"sessionId"],[52,48,32,44],[52,49,32,45],[53,16,33,12,"console"],[53,23,33,19],[53,24,33,20,"log"],[53,27,33,23],[53,28,33,24],[53,79,33,75],[53,80,33,76],[54,16,34,12,"router"],[54,22,34,18],[54,23,34,19,"replace"],[54,30,34,26],[54,31,34,27],[54,40,34,36],[54,41,34,37],[55,14,35,10],[55,15,35,11],[55,16,35,12],[55,23,35,19,"error"],[55,28,35,24],[55,30,35,26],[56,16,36,12,"console"],[56,23,36,19],[56,24,36,20,"error"],[56,29,36,25],[56,30,36,26],[56,68,36,64],[56,70,36,66,"error"],[56,75,36,71],[56,76,36,72],[57,16,37,12,"router"],[57,22,37,18],[57,23,37,19,"replace"],[57,30,37,26],[57,31,37,27],[57,38,37,34],[57,39,37,35],[58,14,38,10],[59,12,39,8],[59,13,39,9],[59,19,39,15],[60,14,40,10,"console"],[60,21,40,17],[60,22,40,18,"log"],[60,25,40,21],[60,26,40,22],[60,79,40,75],[60,80,40,76],[61,14,41,10,"router"],[61,20,41,16],[61,21,41,17,"replace"],[61,28,41,24],[61,29,41,25],[61,36,41,32],[61,37,41,33],[62,12,42,8],[63,10,43,6],[63,11,43,7],[63,17,43,13],[64,12,44,8,"console"],[64,19,44,15],[64,20,44,16,"log"],[64,23,44,19],[64,24,44,20],[64,56,44,52],[64,57,44,53],[65,12,45,8,"router"],[65,18,45,14],[65,19,45,15,"replace"],[65,26,45,22],[65,27,45,23],[65,34,45,30],[65,35,45,31],[66,10,46,6],[67,8,47,4],[67,9,47,5],[68,8,47,5],[68,24,11,10,"handleCallback"],[68,38,11,24,"handleCallback"],[68,39,11,24],[69,10,11,24],[69,17,11,24,"_ref"],[69,21,11,24],[69,22,11,24,"apply"],[69,27,11,24],[69,34,11,24,"arguments"],[69,43,11,24],[70,8,11,24],[71,6,11,24],[71,9,47,5],[72,6,49,4,"handleCallback"],[72,20,49,18],[72,21,49,19],[72,22,49,20],[73,4,50,2],[73,5,50,3],[73,7,50,5],[73,9,50,7],[73,10,50,8],[74,4,52,2],[74,24,53,4],[74,28,53,4,"_reactJsxDevRuntime"],[74,47,53,4],[74,48,53,4,"jsxDEV"],[74,54,53,4],[74,56,53,5,"_reactNative"],[74,68,53,9],[74,69,53,9,"View"],[74,73,53,9],[75,6,53,10,"style"],[75,11,53,15],[75,13,53,17,"styles"],[75,19,53,23],[75,20,53,24,"container"],[75,29,53,34],[76,6,53,34,"children"],[76,14,53,34],[76,30,54,6],[76,34,54,6,"_reactJsxDevRuntime"],[76,53,54,6],[76,54,54,6,"jsxDEV"],[76,60,54,6],[76,62,54,7,"_reactNative"],[76,74,54,24],[76,75,54,24,"ActivityIndicator"],[76,92,54,24],[77,8,54,25,"size"],[77,12,54,29],[77,14,54,30],[77,21,54,37],[78,8,54,38,"color"],[78,13,54,43],[78,15,54,44],[79,6,54,53],[80,8,54,53,"fileName"],[80,16,54,53],[80,18,54,53,"_jsxFileName"],[80,30,54,53],[81,8,54,53,"lineNumber"],[81,18,54,53],[82,8,54,53,"columnNumber"],[82,20,54,53],[83,6,54,53],[83,13,54,55],[83,14,54,56],[83,29,55,6],[83,33,55,6,"_reactJsxDevRuntime"],[83,52,55,6],[83,53,55,6,"jsxDEV"],[83,59,55,6],[83,61,55,7,"_reactNative"],[83,73,55,11],[83,74,55,11,"Text"],[83,78,55,11],[84,8,55,12,"style"],[84,13,55,17],[84,15,55,19,"styles"],[84,21,55,25],[84,22,55,26,"text"],[84,26,55,31],[85,8,55,31,"children"],[85,16,55,31],[85,18,55,32],[86,6,55,60],[87,8,55,60,"fileName"],[87,16,55,60],[87,18,55,60,"_jsxFileName"],[87,30,55,60],[88,8,55,60,"lineNumber"],[88,18,55,60],[89,8,55,60,"columnNumber"],[89,20,55,60],[90,6,55,60],[90,13,55,66],[90,14,55,67],[91,4,55,67],[92,6,55,67,"fileName"],[92,14,55,67],[92,16,55,67,"_jsxFileName"],[92,28,55,67],[93,6,55,67,"lineNumber"],[93,16,55,67],[94,6,55,67,"columnNumber"],[94,18,55,67],[95,4,55,67],[95,11,56,10],[95,12,56,11],[96,2,58,0],[97,2,58,1,"_s"],[97,4,58,1],[97,5,6,24,"CallbackScreen"],[97,19,6,38],[98,4,6,38],[98,12,7,17,"useRouter"],[98,23,7,26],[98,24,7,26,"useRouter"],[98,33,7,26],[98,35,8,31,"useAuth"],[98,57,8,38],[98,58,8,38,"useAuth"],[98,65,8,38],[99,2,8,38],[100,2,8,38,"_c"],[100,4,8,38],[100,7,6,24,"CallbackScreen"],[100,21,6,38],[101,2,60,0],[101,6,60,6,"styles"],[101,12,60,12],[101,15,60,15,"StyleSheet"],[101,27,60,25],[101,28,60,25,"StyleSheet"],[101,38,60,25],[101,39,60,26,"create"],[101,45,60,32],[101,46,60,33],[102,4,61,2,"container"],[102,13,61,11],[102,15,61,13],[103,6,62,4,"flex"],[103,10,62,8],[103,12,62,10],[103,13,62,11],[104,6,63,4,"justifyContent"],[104,20,63,18],[104,22,63,20],[104,30,63,28],[105,6,64,4,"alignItems"],[105,16,64,14],[105,18,64,16],[105,26,64,24],[106,6,65,4,"backgroundColor"],[106,21,65,19],[106,23,65,21],[107,4,66,2],[107,5,66,3],[108,4,67,2,"text"],[108,8,67,6],[108,10,67,8],[109,6,68,4,"marginTop"],[109,15,68,13],[109,17,68,15],[109,19,68,17],[110,6,69,4,"fontSize"],[110,14,69,12],[110,16,69,14],[110,18,69,16],[111,6,70,4,"color"],[111,11,70,9],[111,13,70,11],[112,4,71,2],[113,2,72,0],[113,3,72,1],[113,4,72,2],[114,2,72,3],[114,6,72,3,"_c"],[114,8,72,3],[115,2,72,3,"$RefreshReg$"],[115,14,72,3],[115,15,72,3,"_c"],[115,17,72,3],[116,0,72,3],[116,3]],"functionMap":{"names":["<global>","CallbackScreen","useEffect$argument_0","handleCallback"],"mappings":"AAA;eCK;YCI;2BCC;KDoC;GDG;CDQ"},"hasCjsExports":false},"type":"js/module"}]}