{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":71,"index":71}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":72},"end":{"line":2,"column":26,"index":98}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":99},"end":{"line":3,"column":49,"index":148}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/CartContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.CartProvider = CartProvider;\n  exports.useCart = useCart;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[3], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL + '/api';\n  const CartContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function CartProvider({\n    children\n  }) {\n    _s();\n    const [cartItems, setCartItems] = (0, _react.useState)([]);\n    const [loading, setLoading] = (0, _react.useState)(false);\n    (0, _react.useEffect)(() => {\n      refreshCart();\n    }, []);\n    const refreshCart = async () => {\n      try {\n        setLoading(true);\n        const token = await SecureStore.getItemAsync('session_token');\n        if (!token) return;\n        const response = await axios.default.get(`${API_URL}/cart`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setCartItems(response.data.items || []);\n      } catch (error) {\n        console.error('Error fetching cart:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const addToCart = async item => {\n      try {\n        const token = await SecureStore.getItemAsync('session_token');\n        if (!token) throw new Error('Not authenticated');\n        await axios.default.post(`${API_URL}/cart`, item, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        await refreshCart();\n      } catch (error) {\n        console.error('Error adding to cart:', error);\n        throw error;\n      }\n    };\n    const removeFromCart = async index => {\n      try {\n        const token = await SecureStore.getItemAsync('session_token');\n        if (!token) throw new Error('Not authenticated');\n        await axios.default.delete(`${API_URL}/cart/${index}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        await refreshCart();\n      } catch (error) {\n        console.error('Error removing from cart:', error);\n        throw error;\n      }\n    };\n    const clearCart = async () => {\n      try {\n        const token = await SecureStore.getItemAsync('session_token');\n        if (!token) throw new Error('Not authenticated');\n        await axios.default.delete(`${API_URL}/cart`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setCartItems([]);\n      } catch (error) {\n        console.error('Error clearing cart:', error);\n        throw error;\n      }\n    };\n    const totalPrice = cartItems.reduce((sum, item) => sum + item.price * item.quantity, 0);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(CartContext.Provider, {\n      value: {\n        cartItems,\n        loading,\n        addToCart,\n        removeFromCart,\n        clearCart,\n        refreshCart,\n        totalPrice\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }, this);\n  }\n  _s(CartProvider, \"hjcORomU9r2JakrDaeOjXnDhWgs=\");\n  _c = CartProvider;\n  function useCart() {\n    _s2();\n    const context = (0, _react.useContext)(CartContext);\n    if (context === undefined) {\n      throw new Error('useCart must be used within a CartProvider');\n    }\n    return context;\n  }\n  _s2(useCart, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"CartProvider\");\n});","lineCount":143,"map":[[30,2,27,0,"exports"],[30,9,27,0],[30,10,27,0,"CartProvider"],[30,22,27,0],[30,25,27,0,"CartProvider"],[30,37,27,0],[31,2,120,0,"exports"],[31,9,120,0],[31,10,120,0,"useCart"],[31,17,120,0],[31,20,120,0,"useCart"],[31,27,120,0],[32,2,126,1],[32,6,126,1,"_expoVirtualEnv"],[32,21,126,1],[32,24,126,1,"require"],[32,31,126,1],[32,32,126,1,"_dependencyMap"],[32,46,126,1],[33,2,1,0],[33,6,1,0,"_react"],[33,12,1,0],[33,15,1,0,"require"],[33,22,1,0],[33,23,1,0,"_dependencyMap"],[33,37,1,0],[34,2,2,0],[34,6,2,0,"_axios"],[34,12,2,0],[34,15,2,0,"require"],[34,22,2,0],[34,23,2,0,"_dependencyMap"],[34,37,2,0],[35,2,2,0],[35,6,2,0,"axios"],[35,11,2,0],[35,14,2,0,"_interopDefault"],[35,29,2,0],[35,30,2,0,"_axios"],[35,36,2,0],[36,2,3,0],[36,6,3,0,"_expoSecureStore"],[36,22,3,0],[36,25,3,0,"require"],[36,32,3,0],[36,33,3,0,"_dependencyMap"],[36,47,3,0],[37,2,3,0],[37,6,3,0,"SecureStore"],[37,17,3,0],[37,20,3,0,"_interopNamespace"],[37,37,3,0],[37,38,3,0,"_expoSecureStore"],[37,54,3,0],[38,2,3,49],[38,6,3,49,"_reactJsxDevRuntime"],[38,25,3,49],[38,28,3,49,"require"],[38,35,3,49],[38,36,3,49,"_dependencyMap"],[38,50,3,49],[39,2,5,0],[39,8,5,6,"API_URL"],[39,15,5,13],[39,18,5,16,"_expoVirtualEnv"],[39,33,5,16],[39,34,5,16,"env"],[39,37,5,16],[39,38,5,16,"EXPO_PUBLIC_BACKEND_URL"],[39,61,5,16],[39,64,5,54],[39,70,5,60],[40,2,25,0],[40,8,25,6,"CartContext"],[40,19,25,17],[40,35,25,20],[40,39,25,20,"createContext"],[40,45,25,33],[40,46,25,33,"createContext"],[40,59,25,33],[40,61,25,63,"undefined"],[40,70,25,72],[40,71,25,73],[41,2,27,7],[41,11,27,16,"CartProvider"],[41,23,27,28,"CartProvider"],[41,24,27,29],[42,4,27,31,"children"],[43,2,27,71],[43,3,27,72],[43,5,27,74],[44,4,27,74,"_s"],[44,6,27,74],[45,4,28,2],[45,10,28,8],[45,11,28,9,"cartItems"],[45,20,28,18],[45,22,28,20,"setCartItems"],[45,34,28,32],[45,35,28,33],[45,38,28,36],[45,42,28,36,"useState"],[45,48,28,44],[45,49,28,44,"useState"],[45,57,28,44],[45,59,28,57],[45,61,28,59],[45,62,28,60],[46,4,29,2],[46,10,29,8],[46,11,29,9,"loading"],[46,18,29,16],[46,20,29,18,"setLoading"],[46,30,29,28],[46,31,29,29],[46,34,29,32],[46,38,29,32,"useState"],[46,44,29,40],[46,45,29,40,"useState"],[46,53,29,40],[46,55,29,41],[46,60,29,46],[46,61,29,47],[47,4,31,2],[47,8,31,2,"useEffect"],[47,14,31,11],[47,15,31,11,"useEffect"],[47,24,31,11],[47,26,31,12],[47,32,31,18],[48,6,32,4,"refreshCart"],[48,17,32,15],[48,18,32,16],[48,19,32,17],[49,4,33,2],[49,5,33,3],[49,7,33,5],[49,9,33,7],[49,10,33,8],[50,4,35,2],[50,10,35,8,"refreshCart"],[50,21,35,19],[50,24,35,22],[50,30,35,22,"refreshCart"],[50,31,35,22],[50,36,35,34],[51,6,36,4],[51,10,36,8],[52,8,37,6,"setLoading"],[52,18,37,16],[52,19,37,17],[52,23,37,21],[52,24,37,22],[53,8,38,6],[53,14,38,12,"token"],[53,19,38,17],[53,22,38,20],[53,28,38,26,"SecureStore"],[53,39,38,37],[53,40,38,38,"getItemAsync"],[53,52,38,50],[53,53,38,51],[53,68,38,66],[53,69,38,67],[54,8,39,6],[54,12,39,10],[54,13,39,11,"token"],[54,18,39,16],[54,20,39,18],[55,8,41,6],[55,14,41,12,"response"],[55,22,41,20],[55,25,41,23],[55,31,41,29,"axios"],[55,36,41,34],[55,37,41,34,"default"],[55,44,41,34],[55,45,41,35,"get"],[55,48,41,38],[55,49,41,39],[55,52,41,42,"API_URL"],[55,59,41,49],[55,66,41,56],[55,68,41,58],[56,10,42,8,"headers"],[56,17,42,15],[56,19,42,17],[57,12,42,19,"Authorization"],[57,25,42,32],[57,27,42,34],[57,37,42,44,"token"],[57,42,42,49],[58,10,42,52],[59,8,43,6],[59,9,43,7],[59,10,43,8],[60,8,45,6,"setCartItems"],[60,20,45,18],[60,21,45,19,"response"],[60,29,45,27],[60,30,45,28,"data"],[60,34,45,32],[60,35,45,33,"items"],[60,40,45,38],[60,44,45,42],[60,46,45,44],[60,47,45,45],[61,6,46,4],[61,7,46,5],[61,8,46,6],[61,15,46,13,"error"],[61,20,46,18],[61,22,46,20],[62,8,47,6,"console"],[62,15,47,13],[62,16,47,14,"error"],[62,21,47,19],[62,22,47,20],[62,44,47,42],[62,46,47,44,"error"],[62,51,47,49],[62,52,47,50],[63,6,48,4],[63,7,48,5],[63,16,48,14],[64,8,49,6,"setLoading"],[64,18,49,16],[64,19,49,17],[64,24,49,22],[64,25,49,23],[65,6,50,4],[66,4,51,2],[66,5,51,3],[67,4,53,2],[67,10,53,8,"addToCart"],[67,19,53,17],[67,22,53,20],[67,28,53,27,"item"],[67,32,53,41],[67,36,53,46],[68,6,54,4],[68,10,54,8],[69,8,55,6],[69,14,55,12,"token"],[69,19,55,17],[69,22,55,20],[69,28,55,26,"SecureStore"],[69,39,55,37],[69,40,55,38,"getItemAsync"],[69,52,55,50],[69,53,55,51],[69,68,55,66],[69,69,55,67],[70,8,56,6],[70,12,56,10],[70,13,56,11,"token"],[70,18,56,16],[70,20,56,18],[70,26,56,24],[70,30,56,28,"Error"],[70,35,56,33],[70,36,56,34],[70,55,56,53],[70,56,56,54],[71,8,58,6],[71,14,58,12,"axios"],[71,19,58,17],[71,20,58,17,"default"],[71,27,58,17],[71,28,58,18,"post"],[71,32,58,22],[71,33,58,23],[71,36,58,26,"API_URL"],[71,43,58,33],[71,50,58,40],[71,52,58,42,"item"],[71,56,58,46],[71,58,58,48],[72,10,59,8,"headers"],[72,17,59,15],[72,19,59,17],[73,12,59,19,"Authorization"],[73,25,59,32],[73,27,59,34],[73,37,59,44,"token"],[73,42,59,49],[74,10,59,52],[75,8,60,6],[75,9,60,7],[75,10,60,8],[76,8,62,6],[76,14,62,12,"refreshCart"],[76,25,62,23],[76,26,62,24],[76,27,62,25],[77,6,63,4],[77,7,63,5],[77,8,63,6],[77,15,63,13,"error"],[77,20,63,18],[77,22,63,20],[78,8,64,6,"console"],[78,15,64,13],[78,16,64,14,"error"],[78,21,64,19],[78,22,64,20],[78,45,64,43],[78,47,64,45,"error"],[78,52,64,50],[78,53,64,51],[79,8,65,6],[79,14,65,12,"error"],[79,19,65,17],[80,6,66,4],[81,4,67,2],[81,5,67,3],[82,4,69,2],[82,10,69,8,"removeFromCart"],[82,24,69,22],[82,27,69,25],[82,33,69,32,"index"],[82,38,69,45],[82,42,69,50],[83,6,70,4],[83,10,70,8],[84,8,71,6],[84,14,71,12,"token"],[84,19,71,17],[84,22,71,20],[84,28,71,26,"SecureStore"],[84,39,71,37],[84,40,71,38,"getItemAsync"],[84,52,71,50],[84,53,71,51],[84,68,71,66],[84,69,71,67],[85,8,72,6],[85,12,72,10],[85,13,72,11,"token"],[85,18,72,16],[85,20,72,18],[85,26,72,24],[85,30,72,28,"Error"],[85,35,72,33],[85,36,72,34],[85,55,72,53],[85,56,72,54],[86,8,74,6],[86,14,74,12,"axios"],[86,19,74,17],[86,20,74,17,"default"],[86,27,74,17],[86,28,74,18,"delete"],[86,34,74,24],[86,35,74,25],[86,38,74,28,"API_URL"],[86,45,74,35],[86,54,74,44,"index"],[86,59,74,49],[86,61,74,51],[86,63,74,53],[87,10,75,8,"headers"],[87,17,75,15],[87,19,75,17],[88,12,75,19,"Authorization"],[88,25,75,32],[88,27,75,34],[88,37,75,44,"token"],[88,42,75,49],[89,10,75,52],[90,8,76,6],[90,9,76,7],[90,10,76,8],[91,8,78,6],[91,14,78,12,"refreshCart"],[91,25,78,23],[91,26,78,24],[91,27,78,25],[92,6,79,4],[92,7,79,5],[92,8,79,6],[92,15,79,13,"error"],[92,20,79,18],[92,22,79,20],[93,8,80,6,"console"],[93,15,80,13],[93,16,80,14,"error"],[93,21,80,19],[93,22,80,20],[93,49,80,47],[93,51,80,49,"error"],[93,56,80,54],[93,57,80,55],[94,8,81,6],[94,14,81,12,"error"],[94,19,81,17],[95,6,82,4],[96,4,83,2],[96,5,83,3],[97,4,85,2],[97,10,85,8,"clearCart"],[97,19,85,17],[97,22,85,20],[97,28,85,20,"clearCart"],[97,29,85,20],[97,34,85,32],[98,6,86,4],[98,10,86,8],[99,8,87,6],[99,14,87,12,"token"],[99,19,87,17],[99,22,87,20],[99,28,87,26,"SecureStore"],[99,39,87,37],[99,40,87,38,"getItemAsync"],[99,52,87,50],[99,53,87,51],[99,68,87,66],[99,69,87,67],[100,8,88,6],[100,12,88,10],[100,13,88,11,"token"],[100,18,88,16],[100,20,88,18],[100,26,88,24],[100,30,88,28,"Error"],[100,35,88,33],[100,36,88,34],[100,55,88,53],[100,56,88,54],[101,8,90,6],[101,14,90,12,"axios"],[101,19,90,17],[101,20,90,17,"default"],[101,27,90,17],[101,28,90,18,"delete"],[101,34,90,24],[101,35,90,25],[101,38,90,28,"API_URL"],[101,45,90,35],[101,52,90,42],[101,54,90,44],[102,10,91,8,"headers"],[102,17,91,15],[102,19,91,17],[103,12,91,19,"Authorization"],[103,25,91,32],[103,27,91,34],[103,37,91,44,"token"],[103,42,91,49],[104,10,91,52],[105,8,92,6],[105,9,92,7],[105,10,92,8],[106,8,94,6,"setCartItems"],[106,20,94,18],[106,21,94,19],[106,23,94,21],[106,24,94,22],[107,6,95,4],[107,7,95,5],[107,8,95,6],[107,15,95,13,"error"],[107,20,95,18],[107,22,95,20],[108,8,96,6,"console"],[108,15,96,13],[108,16,96,14,"error"],[108,21,96,19],[108,22,96,20],[108,44,96,42],[108,46,96,44,"error"],[108,51,96,49],[108,52,96,50],[109,8,97,6],[109,14,97,12,"error"],[109,19,97,17],[110,6,98,4],[111,4,99,2],[111,5,99,3],[112,4,101,2],[112,10,101,8,"totalPrice"],[112,20,101,18],[112,23,101,21,"cartItems"],[112,32,101,30],[112,33,101,31,"reduce"],[112,39,101,37],[112,40,101,38],[112,41,101,39,"sum"],[112,44,101,42],[112,46,101,44,"item"],[112,50,101,48],[112,55,101,53,"sum"],[112,58,101,56],[112,61,101,59,"item"],[112,65,101,63],[112,66,101,64,"price"],[112,71,101,69],[112,74,101,72,"item"],[112,78,101,76],[112,79,101,77,"quantity"],[112,87,101,85],[112,89,101,87],[112,90,101,88],[112,91,101,89],[113,4,103,2],[113,24,104,4],[113,28,104,4,"_reactJsxDevRuntime"],[113,47,104,4],[113,48,104,4,"jsxDEV"],[113,54,104,4],[113,56,104,5,"CartContext"],[113,67,104,16],[113,68,104,17,"Provider"],[113,76,104,25],[114,6,105,6,"value"],[114,11,105,11],[114,13,105,13],[115,8,106,8,"cartItems"],[115,17,106,17],[116,8,107,8,"loading"],[116,15,107,15],[117,8,108,8,"addToCart"],[117,17,108,17],[118,8,109,8,"removeFromCart"],[118,22,109,22],[119,8,110,8,"clearCart"],[119,17,110,17],[120,8,111,8,"refreshCart"],[120,19,111,19],[121,8,112,8,"totalPrice"],[122,6,113,6],[122,7,113,8],[123,6,113,8,"children"],[123,14,113,8],[123,16,115,7,"children"],[124,4,115,15],[125,6,115,15,"fileName"],[125,14,115,15],[125,16,115,15,"_jsxFileName"],[125,28,115,15],[126,6,115,15,"lineNumber"],[126,16,115,15],[127,6,115,15,"columnNumber"],[127,18,115,15],[128,4,115,15],[128,11,116,26],[128,12,116,27],[129,2,118,0],[130,2,118,1,"_s"],[130,4,118,1],[130,5,27,16,"CartProvider"],[130,17,27,28],[131,2,27,28,"_c"],[131,4,27,28],[131,7,27,16,"CartProvider"],[131,19,27,28],[132,2,120,7],[132,11,120,16,"useCart"],[132,18,120,23,"useCart"],[132,19,120,23],[132,21,120,26],[133,4,120,26,"_s2"],[133,7,120,26],[134,4,121,2],[134,10,121,8,"context"],[134,17,121,15],[134,20,121,18],[134,24,121,18,"useContext"],[134,30,121,28],[134,31,121,28,"useContext"],[134,41,121,28],[134,43,121,29,"CartContext"],[134,54,121,40],[134,55,121,41],[135,4,122,2],[135,8,122,6,"context"],[135,15,122,13],[135,20,122,18,"undefined"],[135,29,122,27],[135,31,122,29],[136,6,123,4],[136,12,123,10],[136,16,123,14,"Error"],[136,21,123,19],[136,22,123,20],[136,66,123,64],[136,67,123,65],[137,4,124,2],[138,4,125,2],[138,11,125,9,"context"],[138,18,125,16],[139,2,126,0],[140,2,126,1,"_s2"],[140,5,126,1],[140,6,120,16,"useCart"],[140,13,120,23],[141,2,120,23],[141,6,120,23,"_c"],[141,8,120,23],[142,2,120,23,"$RefreshReg$"],[142,14,120,23],[142,15,120,23,"_c"],[142,17,120,23],[143,0,120,23],[143,3]],"functionMap":{"names":["<global>","CartProvider","useEffect$argument_0","refreshCart","addToCart","removeFromCart","clearCart","cartItems.reduce$argument_0","useCart"],"mappings":"AAA;OC0B;YCI;GDE;sBEE;GFgB;oBGE;GHc;yBIE;GJc;oBKE;GLc;sCME,+CN;CDiB;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}